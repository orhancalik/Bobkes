<!DOCTYPE html>
<html lang="nl-BE">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <script src="/scripts/battler.js" defer></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Pokemon Battler</title>
  </head>
  <body>
    <header>
      <nav>
        <ul class="nav_links">
          <li>
            <a href="index">
              <img
                src="assets/images/Logo.png"
                alt="logo"
                width="175px"
                height="175px"
              />
            </a>
          </li>
          <li><a href="mijnpokemon">Mijn Pokemon</a></li>
          <li><a href="pokemonvergelijken">Vergelijken</a></li>
          <li><a href="pokemonbattler">Battler</a></li>
          <li><a href="pokemoncatcher">Catcher</a></li>
          <li><a href="whosthatpokemon">Who's that pokemon</a></li>
          <% if (user) { %>
          <li>
            <form id="logoutForm" action="/logout" method="POST">
              <button type="submit">Logout</button>
            </form>
          </li>
          <% } else { %>
          <li><a href="login">Login </a></li>
          <% } %>
          <li class="pokeball">
            <img src="/assets/images/pokeball.png" alt="" width="50px" />
            <div class="pokemon-info">
              <% if (user && user.username) { %>
              <span id="currentPokemonName"><%= user.username %></span>
              <% } else { %>
              <span id="currentPokemonName">Vang pokemon</span>
              <% } %> <% if (user && user.pokemon) { %>
              <span class="<%= user.pokemon.type %>"
                ><%= user.pokemon.name %></span
              >
              <% } else { %>
              <span class="no-pokemon">Geen pokemon</span>
              <% } %>
            </div>
          </li>
        </ul>
      </nav>
    </header>
    <main class="container mt-5">
      <h1>Pokemon Battler</h1>
      <form id="battleForm" method="POST">
        <div class="mb-3">
          <label for="pokemon1" class="form-label">Mijn Pokemons:</label>
          <select id="pokemon1" name="pokemon1" class="form-select">
            <% pokemonList.forEach(pokemon => { %>
            <option value="<%= pokemon.name %>"><%= pokemon.name %></option>
            <% }) %>
          </select>
        </div>
        <div class="mb-3">
          <label for="pokemon2" class="form-label">Tegenstander:</label>
          <select id="pokemon2" name="pokemon2" class="form-select">
            <% pokemonList.forEach(pokemon => { %>
            <option value="<%= pokemon.name %>"><%= pokemon.name %></option>
            <% }) %>
          </select>
        </div>
        <button type="button" id="startBattle" class="btn btn-primary">Start Battle</button>
      </form>
      <div id="battleResult" class="mt-5"></div>
    </main>
    <%- include("./partials/footer") %>
  </body>
</html>
